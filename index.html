<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zaid.python - مساعد بايثون الذكي</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --gradient-color-1: #0c1445;
            --gradient-color-2: #1a237e;
            --gradient-color-3: #283593;
            --gradient-color-4: #3949ab;
            --gradient-color-5: #5c6bc0;
        }
        
        body {
            font-family: 'Tajawal', sans-serif;
            background: linear-gradient(135deg, #0c1445, #1a237e, #283593);
            color: #e3f2fd;
            background-size: 300% 300%;
            animation: gradientBG 25s ease infinite;
            overflow-x: hidden;
            position: relative;
        }
        
        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        [lang="en"] body {
            font-family: 'Inter', sans-serif;
        }
        
        /* Particle System */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }
        
        .particle {
            position: absolute;
            border-radius: 50%;
            background: rgba(100, 150, 255, 0.15);
            box-shadow: 0 0 15px rgba(100, 150, 255, 0.3);
            animation: float 20s infinite ease-in-out;
        }
        
        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1); opacity: 0.7; }
            50% { transform: translate(10px, -10px) scale(1.1); opacity: 0.4; }
        }
        
        /* Geometric Shapes */
        .geometric-shapes {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
            overflow: hidden;
        }
        
        .shape {
            position: absolute;
            border: 1px solid rgba(100, 150, 255, 0.1);
            animation: rotate 40s linear infinite;
        }
        
        .shape.triangle {
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }
        
        .shape.hexagon {
            clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
        }
        
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        /* Blob Enhancements */
        @keyframes blob {
            0% { transform: scale(1) translate(0px, 0px); }
            25% { transform: scale(1.1) translate(30px, -40px); }
            50% { transform: scale(0.95) translate(-40px, 30px); }
            75% { transform: scale(1.05) translate(20px, 50px); }
            100% { transform: scale(1) translate(0px, 0px); }
        }
        
        .animate-blob {
            animation: blob 15s infinite;
            filter: blur(80px);
            opacity: 0.2;
            mix-blend-mode: screen;
        }
        
        .animation-delay-2000 { animation-delay: 2s; }
        .animation-delay-4000 { animation-delay: 4s; }
        .animation-delay-6000 { animation-delay: 6s; }
        .animation-delay-8000 { animation-delay: 8s; }
        
        /* Card Enhancements */
        .card-container {
            perspective: 1000px;
            height: 250px;
        }
        
        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.8s;
            transform-style: preserve-3d;
        }
        
        .card-container:hover .card-inner {
            transform: rotateY(180deg);
        }
        
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border-radius: 24px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.25);
        }
        
        .card-front {
            transform: rotateY(0deg);
        }
        
        .card-back {
            background-color: rgba(31, 40, 51, 0.9);
            transform: rotateY(180deg);
            color: #c5c6c7;
            padding: 1rem;
            text-align: center;
            backdrop-filter: blur(10px);
        }
        
        /* Header with glass effect */
        header {
            background: rgba(11, 12, 16, 0.7);
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
        }
        
        /* Floating Elements */
        .floating-element {
            animation: floatElement 6s ease-in-out infinite;
        }
        
        @keyframes floatElement {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        /* Hover Effects */
        .hover-grow {
            transition: transform 0.3s ease;
        }
        
        .hover-grow:hover {
            transform: scale(1.05);
        }
        
        /* Background Overlay */
        .background-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, rgba(11, 12, 16, 0.1) 0%, rgba(11, 12, 16, 0.7) 70%);
            z-index: -1;
        }
        
        /* Quiz Options */
        .quiz-option {
            background-color: rgba(59, 66, 77, 0.5);
            border: 2px solid rgba(59, 66, 77, 0.5);
            color: #e3f2fd;
            transition: background-color 0.3s ease, border-color 0.3s ease;
            padding: 1.5rem 1rem;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 80px;
        }
        
        .quiz-option:hover {
            background-color: rgba(73, 80, 90, 0.6);
            border-color: #82b1ff;
        }
        
        .quiz-option.selected {
            background-color: rgba(73, 80, 90, 0.6);
            border-color: #82b1ff;
            box-shadow: 0 0 0 2px #82b1ff;
        }
        
        .quiz-option.correct {
            background-color: rgba(46, 125, 50, 0.7);
            border-color: #82b1ff;
        }
        
        .quiz-option.incorrect {
            background-color: rgba(198, 40, 40, 0.7);
            border-color: #82b1ff;
        }
        
        .quiz-option code {
            font-size: 1.1rem;
            font-weight: bold;
            direction: ltr;
        }
        
        .resource-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 1.5rem;
            transition: all 0.3s ease;
        }
        
        .resource-card:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.1);
        }
        
        .quiz-progress {
            height: 8px;
            background-color: rgba(45, 55, 72, 0.5);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 1.5rem;
        }
        
        .quiz-progress-bar {
            height: 100%;
            background-color: #5c6bc0;
            transition: width 0.4s ease;
        }
        
        .quiz-result {
            background-color: rgba(31, 40, 51, 0.8);
            border-radius: 16px;
            padding: 2rem;
            text-align: center;
        }
        
        .quiz-result-score {
            font-size: 3rem;
            font-weight: bold;
            color: #7986cb;
            margin-bottom: 1rem;
        }
        
        .quiz-result-message {
            font-size: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .quiz-result-stars {
            font-size: 2.5rem;
            color: #ffd700;
            margin-bottom: 2rem;
        }
        
        .logo-link {
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        
        .logo-link:hover {
            transform: scale(1.05);
        }
        
        .example-container {
            background-color: rgba(26, 26, 46, 0.7);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .example-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: #82b1ff;
            margin-bottom: 0.8rem;
            display: flex;
            align-items: center;
        }
        
        .example-title i {
            margin-left: 0.5rem;
        }
        
        .example-description {
            color: #e3f2fd;
            margin-bottom: 1rem;
            line-height: 1.6;
        }
        
        .example-code {
            background-color: rgba(13, 17, 23, 0.8);
            border-radius: 8px;
            padding: 1.2rem;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.95rem;
            color: #f8f8f2;
            line-height: 1.5;
            margin-top: 1rem;
            direction: ltr;
            text-align: left;
        }
        
        /* Video Container */
        .video-container {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            height: 0;
            overflow: hidden;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }
        
        /* Profile Image */
        .profile-img-container {
            position: relative;
            width: 200px;
            height: 200px;
            margin: 0 auto 2rem;
        }
        
        .profile-img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid #7986cb;
            box-shadow: 0 0 20px rgba(121, 134, 203, 0.4);
        }
        
        .profile-img-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(121, 134, 203, 0.3), rgba(92, 107, 192, 0.3));
            opacity: 0;
            transition: opacity 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .profile-img-container:hover .profile-img-overlay {
            opacity: 1;
        }
        
        /* Instagram Button Gradient */
        .bg-gradient-instagram {
            background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);
            color: white;
            border: none;
            transition: all 0.3s ease;
        }
        
        .bg-gradient-instagram:hover {
            background: linear-gradient(45deg, #d8812a, #d0552a, #c61f37, #b61d59, #a51475);
            box-shadow: 0 0 15px rgba(220, 39, 67, 0.5);
        }
        
        /* WhatsApp Button */
        .bg-whatsapp {
            background-color: #25D366;
            color: white;
            border: none;
            transition: all 0.3s ease;
        }
        
        .bg-whatsapp:hover {
            background-color: #128C7E;
            box-shadow: 0 0 15px rgba(37, 211, 102, 0.5);
        }
        
        /* Social Icons */
        .social-icon {
            font-size: 1.5rem;
            margin-right: 0.5rem;
            transition: transform 0.3s ease;
        }
        
        .social-button:hover .social-icon {
            transform: scale(1.2);
        }
        
        /* AI Chat Styles */
        #ai-chat-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: linear-gradient(135deg, #5c6bc0, #7986cb);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            transition: all 0.3s ease;
        }
        
        #ai-chat-button:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }
        
        #ai-chat-container {
            position: fixed;
            bottom: 120px;
            right: 30px;
            width: 350px;
            height: 500px;
            background-color: rgba(31, 40, 51, 0.95);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
            z-index: 1000;
            overflow: hidden;
            transform: translateY(20px);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        #ai-chat-container.open {
            transform: translateY(0);
            opacity: 1;
            visibility: visible;
        }
        
        .chat-header {
            background: linear-gradient(135deg, #5c6bc0, #7986cb);
            padding: 15px 20px;
            color: white;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .chat-header-title {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .chat-close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
        }
        
        .chat-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .message {
            max-width: 80%;
            padding: 12px 15px;
            border-radius: 18px;
            animation: fadeIn 0.3s ease;
            word-break: break-word;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .user-message {
            background-color: #5c6bc0;
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }
        
        .ai-message {
            background-color: rgba(58, 63, 75, 0.8);
            color: white;
            align-self: flex-start;
            border-bottom-left-radius: 5px;
        }
        
        .ai-message code {
            background-color: rgba(45, 55, 72, 0.8);
            padding: 5px 10px;
            border-radius: 6px;
            font-family: monospace;
            display: block;
            margin: 8px 0;
            white-space: pre-wrap;
            direction: ltr;
        }
        
        .chat-input-area {
            padding: 15px;
            background-color: rgba(45, 55, 72, 0.8);
            display: flex;
            gap: 10px;
        }
        
        #chat-input {
            flex: 1;
            padding: 12px 15px;
            border-radius: 25px;
            border: none;
            background-color: rgba(26, 32, 44, 0.8);
            color: white;
            outline: none;
        }
        
        #send-btn {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: linear-gradient(135deg, #5c6bc0, #7986cb);
            color: white;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }
        
        #send-btn:hover {
            transform: scale(1.05);
        }
        
        .chat-typing-indicator {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 8px 12px;
            background-color: rgba(58, 63, 75, 0.8);
            border-radius: 15px;
            align-self: flex-start;
            margin-bottom: 10px;
        }
        
        .typing-dot {
            width: 8px;
            height: 8px;
            background-color: #82b1ff;
            border-radius: 50%;
            animation: typing 1.4s infinite ease-in-out;
        }
        
        .typing-dot:nth-child(1) { animation-delay: 0s; }
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }
        
        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-5px); }
        }
        
        /* Back to Top Button */
        #back-to-top-btn {
            position: fixed;
            bottom: 120px;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #5c6bc0, #7986cb);
            color: white;
            font-size: 20px;
            cursor: pointer;
            z-index: 99;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            border: none;
            outline: none;
            transition: all 0.3s ease;
            display: none;
            align-items: center;
            justify-content: center;
        }
        
        #back-to-top-btn.visible {
            display: flex;
        }
        
        #back-to-top-btn:hover {
            transform: translateX(-50%) scale(1.1);
        }
        
        /* Features Section */
        .features-section {
            background: rgba(31, 40, 51, 0.5);
            border-radius: 20px;
            padding: 30px;
            margin: 50px 0;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(92, 107, 192, 0.3);
        }
        
        .feature-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 25px;
            transition: all 0.3s ease;
            height: 100%;
            border: 1px solid rgba(92, 107, 192, 0.2);
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            background: rgba(92, 107, 192, 0.15);
            border-color: #7986cb;
        }
        
        .feature-icon {
            font-size: 40px;
            margin-bottom: 20px;
            color: #7986cb;
        }
        
        /* Softened Colors */
        .soft-purple { background-color: rgba(92, 107, 192, 0.15); }
        .soft-blue { background-color: rgba(66, 133, 244, 0.15); }
        .soft-green { background-color: rgba(52, 168, 83, 0.15); }
        .soft-orange { background-color: rgba(251, 188, 5, 0.15); }
        
        /* AI Assistant Description */
        .ai-assistant-desc {
            background: rgba(31, 40, 51, 0.7);
            border-radius: 20px;
            padding: 25px;
            margin-top: 40px;
            border: 1px solid rgba(92, 107, 192, 0.3);
        }
        
        /* حل مشكلة التباعد في الشريط العلوي للغة العربية */
        .nav-link {
            margin: 0 15px;
        }
        
        /* Chat Page Styles */
        .chat-page-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .chat-page-title {
            font-size: 2.5rem;
            font-weight: bold;
            color: white;
            text-align: center;
            margin: 40px 0 20px;
        }
        
        .chat-page-description {
            font-size: 1.1rem;
            color: #c5c6c7;
            text-align: center;
            margin-bottom: 40px;
        }
        
        .chat-page-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin: 50px 0;
        }
        
        .chat-feature-card {
            background: rgba(31, 40, 51, 0.7);
            border-radius: 16px;
            padding: 25px;
            text-align: center;
            transition: all 0.3s ease;
            border: 1px solid rgba(92, 107, 192, 0.3);
        }
        
        .chat-feature-card:hover {
            transform: translateY(-5px);
            background: rgba(92, 107, 192, 0.2);
        }
        
        .chat-feature-icon {
            font-size: 50px;
            color: #7986cb;
            margin-bottom: 20px;
        }
        
        .chat-feature-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
            margin-bottom: 15px;
        }
        
        .chat-feature-desc {
            font-size: 1rem;
            color: #c5c6c7;
            line-height: 1.6;
        }
        
        .chat-examples {
            background: rgba(31, 40, 51, 0.7);
            border-radius: 16px;
            padding: 30px;
            margin: 50px 0;
            border: 1px solid rgba(92, 107, 192, 0.3);
        }
        
        .chat-example-title {
            font-size: 1.8rem;
            font-weight: bold;
            color: #82b1ff;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .chat-example {
            background: rgba(26, 26, 46, 0.7);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .chat-example-question {
            font-size: 1.1rem;
            color: #82b1ff;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        
        .chat-example-question i {
            margin-left: 10px;
        }
        
        .chat-example-answer {
            font-size: 1rem;
            color: #e3f2fd;
            margin-top: 15px;
            padding: 15px;
            background: rgba(13, 17, 23, 0.8);
            border-radius: 8px;
        }
    </style>
</head>
<body class="bg-[#0b0c10]">

    <!-- Background Elements -->
    <div class="background-overlay"></div>
    <div class="particles" id="particles"></div>
    <div class="geometric-shapes" id="shapes"></div>

    <div id="app"></div>
    
    <!-- زر "للأعلى" -->
    <button id="back-to-top-btn" class="back-to-top" onclick="scrollToTop()">
        <i class="fas fa-arrow-up text-lg"></i>
    </button>

    <!-- AI Chat Button -->
    <div id="ai-chat-button">
        <i class="fas fa-robot"></i>
    </div>
    
    <!-- AI Chat Container -->
    <div id="ai-chat-container">
        <div class="chat-header">
            <div class="chat-header-title">
                <i class="fas fa-robot"></i>
                <span id="chat-title">مساعد بايثون الذكي</span>
            </div>
            <button class="chat-close-btn" onclick="closeChat()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="chat-messages" id="chat-messages">
            <div class="message ai-message">
                أنا مساعدك الذكي بعد تعليمات زيد أبو الشعر. أنتظر أسئلتك عن لغة بايثون!
                <br><br>
                مثال: "ما هي القوائم في بايثون؟" أو "كيف أتعامل مع الأخطاء؟"
            </div>
        </div>
        <div class="chat-input-area">
            <input type="text" id="chat-input" placeholder="اكتب سؤالك هنا..." autocomplete="off">
            <button id="send-btn" onclick="sendMessage()">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>

    <script>
        // Generate particles
        function createParticles() {
            const container = document.getElementById('particles');
            const particleCount = 25;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                const size = Math.random() * 20 + 5;
                const posX = Math.random() * 100;
                const posY = Math.random() * 100;
                const delay = Math.random() * 10;
                const duration = 15 + Math.random() * 20;
                
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.left = `${posX}%`;
                particle.style.top = `${posY}%`;
                particle.style.animationDelay = `${delay}s`;
                particle.style.animationDuration = `${duration}s`;
                
                // Random color from gradient palette
                const colors = [
                    'rgba(100, 150, 255, 0.2)', 
                    'rgba(150, 100, 255, 0.2)',
                    'rgba(100, 200, 255, 0.2)'
                ];
                particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                
                container.appendChild(particle);
            }
        }
        
        // Generate geometric shapes
        function createShapes() {
            const container = document.getElementById('shapes');
            const shapeCount = 6;
            const types = ['triangle', 'hexagon'];
            
            for (let i = 0; i < shapeCount; i++) {
                const shape = document.createElement('div');
                const type = types[Math.floor(Math.random() * types.length)];
                shape.classList.add('shape', type);
                
                const size = 80 + Math.random() * 150;
                const posX = Math.random() * 100;
                const posY = Math.random() * 100;
                const rotation = Math.random() * 360;
                const duration = 50 + Math.random() * 50;
                
                shape.style.width = `${size}px`;
                shape.style.height = `${size}px`;
                shape.style.left = `${posX}%`;
                shape.style.top = `${posY}%`;
                shape.style.transform = `rotate(${rotation}deg)`;
                shape.style.animationDuration = `${duration}s`;
                
                container.appendChild(shape);
            }
        }
        
        // Translations object
        const translations = {
            ar: {
                appName: "Zaid.python",
                navHome: " الرئيسية",
                navAbout: "عني ",
                navLevels: "المستويات",
                navChat: "المساعد الذكي",
                homeTitle: "أتقن بايثون مع زيد",
                homeSubtitle: "تعلم بايثون من الأساسيات إلى المفاهيم المتقدمة مع دروس تفاعلية واختبارات",
                homeButtonStart: "ابدأ الآن →",
                homeButtonIntro: "شاهد المقدمة",
                whyTitle: "لماذا تختار Zaid.python؟",
                whyCard1Title: "تعلم تفاعلي",
                whyCard1Text: "تعلم بايثون من خلال أمثلة عملية وتمارين تفاعلية مصممة للمبتدئين.",
                whyCard2Title: "منهج منظم",
                whyCard2Text: "تقدم عبر 10 مستويات مصممة بعناية، من أنواع البيانات الأساسية إلى مفاهيم البرمجة الشيئية المتقدمة.",
                whyCard3Title: "تتبع التقدم",
                whyCard3Text: "أكمل الاختبارات واحصل على ملاحظات شخصية أثناء إتقانك لكل مفهوم برمجي.",
                ctaTitle: "هل أنت مستعد لبدء رحلتك في بايثون؟",
                ctaSubtitle: "انضم إلى الآلاف من المتعلمين الذين أتقنوا برمجة بايثون من خلال منصتنا التفاعلية.",
                aboutTitle: "عني ",
                aboutName: "زيد أبو الشعر",
                aboutBio: `زيد أبو الشعر: طالب علوم حاسوب متحمس ومطور AR/VR/AI (الأول على دفعته مع مرتبة الشرف). بارع في بايثون، C#، جافا سكريبت، HTML، CSS، PHP. ذو خبرة في تطبيقات الرعاية الصحية بتقنية XR، ومشاريع الذكاء الاصطناعي (الاتصالات)، وتصميم/نمذجة الويب. مطور عضوية MD في فرع طلاب IEEE بجامعة البتراء، حيث أساهم في دعم نمو الفرع من خلال الفعاليات ومشاركة الأعضاء. عضو مؤسس لنادي الواقع الافتراضي والألعاب بجامعة البتراء.`,
                aboutContact: "تواصل معي",
                aboutCard1Title: "البرمجة",
                aboutCard1Text: "Python, C#, JavaScript, HTML, CSS, PHP",
                aboutCard2Title: "تقدير",
                aboutCard2Text: "الأول على دفعته مع مرتبة الشرف",
                aboutCard3Title: "القيادة",
                aboutCard3Text: "مطور عضوية MD، مؤسس نادي الواقع الافتراضي",
                aboutCard4Title: "ابتكار",
                aboutCard4Text: "تطوير AR/VR/AI، رعاية صحية بتقنية XR",
                levelsTitle: "12 مستوى لتعلم بايثون",
                levelsSubtitle: "اختر مستواك وابدأ رحلتك في بايثون",
                level1: "أنواع البيانات والإدخال",
                level2: "المتغيرات والتعبيرات",
                level3: "المعاملات",
                level4: "التحكم بالتدفق",
                level5: "الحلقات",
                level6: "القوائم والمجموعات",
                level7: "المجموعات والقواميس",
                level8: "الدوال والاستثناءات",
                level9: "الملفات و OOP",
                level10: "واجهات المستخدم الرسومية (GUI)",
                level11: "كويزات سهلة",
                level12: "كويزات صعبة",
                level1Desc: "تعلم الأنواع الأساسية مثل الأعداد، السلاسل، والقيم المنطقية وكيفية استقبال مدخلات من المستخدم.",
                level2Desc: "فهم كيفية تخزين البيانات في متغيرات واستخدام التعبيرات لإجراء الحسابات والعمليات.",
                level3Desc: "تعرف على المعاملات الحسابية، المنطقية، والمقارنة واستخداماتها في بايثون.",
                level4Desc: "تعلم كيفية اتخاذ القرارات في الكود باستخدام عبارات if, elif, و else.",
                level5Desc: "اكتشف قوة الحلقات For و While لتكرار المهام بكفاءة.",
                level6Desc: "تعمق في القوائم والمجموعات وكيفية استخدامها لتنظيم البيانات.",
                level7Desc: "استكشف المجموعات والقواميس لإدارة البيانات الفريدة وبيانات أزواج المفتاح-القيمة.",
                level8Desc: "ابني كوداً منظماً باستخدام الدوال وتعلّم كيفية التعامل مع الأخطاء باستخدام الاستثناءات.",
                level9Desc: "تعلم كيفية التفاعل مع الملفات وفهم أساسيات البرمجة الشيئية (OOP).",
                level10Desc: "ابدأ بإنشاء تطبيقات سطح مكتب تفاعلية باستخدام مكتبة Tkinter.",
                level11Desc: "اختبر معلوماتك الأساسية في بايثون مع كويزات سهلة",
                level12Desc: "تحدى نفسك مع كويزات متقدمة في بايثون",
                levelDetailBack: "العودة إلى المستويات",
                levelDetailMore: "شرح المستوى",
                levelDetailQuiz: "الاختبار",
                levelDetailStart: "انطلقنا →",
                levelDetailNext: "المستوى التالي",
                introTitle: "شاهد المقدمة",
                introSubtitle: "ابدأ رحلتك في تعلم بايثون",
                footerText: "&copy; 2025 Zaid Abu Al Shaar. All Rights Reserved.",
                quizCorrect: "زيد يرفع لك القبعة، أحسنت!",
                quizIncorrect: "عفواً، حاول مرة أخرى.",
                quizSubmit: "تحقق من الإجابة",
                quizQuestion: "سؤال المستوى",
                level1DetailedText: `في هذا المستوى، ستتعلم أساسيات التعامل مع البيانات في بايثون. سنتعرف على الأنواع الرئيسية مثل الأعداد الصحيحة (int)، الأعداد العشرية (float)، السلاسل النصية (str)، والقيم المنطقية (bool). الأهم من ذلك، ستتعلم كيفية جعل برنامجك يتفاعل مع المستخدم عبر استقبال المدخلات باستخدام دالة \`input()\`.`,
                level2DetailedText: `المتغيرات هي أسماء نطلقها على أماكن في الذاكرة لتخزين البيانات. تخيلها كصناديق يمكنك وضع أي شيء بداخلها. أما التعبيرات (Expressions) فهي مزيج من المتغيرات والقيم والمعاملات التي يتم تقييمها للحصول على قيمة واحدة. فهم المتغيرات هو خطوتك الأولى نحو بناء برامج ديناميكية.`,
                level3DetailedText: `المعاملات (Operators) هي رموز خاصة في بايثون تُستخدم لإجراء عمليات على المتغيرات والقيم. هناك أنواع مختلفة من المعاملات مثل المعاملات الحسابية (\`+\`, \`-\`, \`*\`, \`/\`), المقارنة (\`==\`, \`!=\`, \`>\`, \`<\`), والمنطقية (\`and\`, \`or\`, \`not\`).`,
                level4DetailedText: `التحكم بالتدفق (Control Flow) يسمح لك باتخاذ قرارات وتنفيذ كود بناءً على شروط معينة. يتم ذلك باستخدام عبارات \`if\`, \`elif\`, و \`else\`. هذا يمنح برامجك القدرة على التصرف بذكاء بناءً على مدخلات أو حالات مختلفة.`,
                level5DetailedText: `الحلقات (Loops) تسمح لك بتنفيذ مجموعة من الأوامر بشكل متكرر. النوعان الرئيسيان من الحلقات هما \`For\` و \`While\`. حلقة \`For\` تستخدم للتكرار على سلسلة معينة (مثل قائمة أو سلسلة نصية)، بينما حلقة \`While\` تستمر في التكرار طالما أن الشرط صحيح.`,
                level6DetailedText: `القوائم (Lists) والمجموعات (Tuples) هما من أهم هياكل البيانات في بايثون. القوائم هي مجموعات مرتبة وقابلة للتغيير، مما يعني أنه يمكنك إضافة أو حذف أو تعديل العناصر. أما المجموعات فهي مرتبة ولكنها غير قابلة للتغيير.`,
                level7DetailedText: `المجموعات (Sets) والقواميس (Dictionaries) تقدم طرقًا أخرى لتنظيم البيانات. المجموعات هي مجموعات غير مرتبة لا تحتوي على عناصر مكررة. القواميس هي مجموعات من أزواج المفتاح-القيمة (key-value pairs) وتوفر طريقة فعالة للبحث عن البيانات.`,
                level8DetailedText: `الدوال (Functions) هي كتل من الكود قابلة لإعادة الاستخدام. تعريف دالة يسمح لك بتنفيذ نفس الكود عدة مرات دون الحاجة إلى كتابته مجدداً. أما الاستثناءات (Exceptions) فهي أخطاء تحدث أثناء تنفيذ البرنامج، وستتعلم كيفية التعامل معها باستخدام \`try\` و \`except\`.`,
                level9DetailedText: `التعامل مع الملفات يتيح لك قراءة وكتابة الملفات على القرص. البرمجة الشيئية (OOP) هي نمط برمجة يعتمد على مفهوم الكائنات (Objects) والفئات (Classes) لتنظيم الكود وجعله أكثر قابلية للإدارة.`,
                level10DetailedText: `واجهات المستخدم الرسومية (GUI) تسمح لك بإنشاء تطبيقات سطح مكتب تفاعلية باستخدام عناصر مثل الأزرار والنصوص والنوافذ. إحدى أشهر مكتبات بايثون لإنشاء واجهات المستخدم الرسومية هي \`Tkinter\`.`,
                level11DetailedText: `اختبر معلوماتك الأساسية في بايثون مع مجموعة من الكويزات السهلة المناسبة للمبتدئين. هذه الأسئلة ستساعدك على تثبيت المفاهيم الأساسية وقياس تقدمك في رحلة تعلم بايثون.`,
                level12DetailedText: `تحدى نفسك مع مجموعة من الكويزات المتقدمة في بايثون. هذه الأسئلة صممت لاختبار فهمك العميق للمفاهيم البرمجية وقدرتك على حل المشكلات المعقدة.`,
                resourcesTitle: "موارد إضافية",
                resourceDesc: "استكشف هذه الموارد لتعميق فهمك للموضوع:",
                resourceLink: "زيارة الموقع",
                quizStart: "ابدأ الكويز",
                quizNext: "السؤال التالي",
                quizFinish: "انهاء الكويز",
                quizResultTitle: "نتيجة الكويز",
                quizScore: "درجتك",
                quizCorrectAnswers: "إجابات صحيحة",
                quizRestart: "إعادة المحاولة",
                quizBackToLevels: "العودة للمستويات",
                exampleTitle: "مثال توضيحي",
                exampleExplanation: "شرح المثال",
                featuresTitle: "مميزات المنصة",
                feature1Title: "تعلم تفاعلي",
                feature1Desc: "دروس تفاعلية مع أمثلة عملية وتطبيق مباشر",
                feature2Title: "اختبارات وتقييم",
                feature2Desc: "اختبارات بعد كل مستوى لقياس مدى تقدمك",
                feature3Title: "مساعد ذكي",
                feature3Desc: "مساعد ذكي متاح 24/7 للإجابة على أسئلتك البرمجية",
                aiAssistantTitle: "مساعد بايثون الذكي",
                aiAssistantDesc: "مساعد ذكي متاح على مدار الساعة للإجابة على أسئلتك البرمجية وتقديم المساعدة في حل المشكلات التي تواجهك أثناء تعلم بايثون",
                chatPageTitle: "مساعد بايثون الذكي",
                chatPageDesc: "مساعد ذكي متاح على مدار الساعة للإجابة على أسئلتك البرمجية وتقديم المساعدة في حل المشكلات",
                chatFeature1Title: "إجابات فورية",
                chatFeature1Desc: "احصل على إجابات فورية لأسئلتك البرمجية في أي وقت",
                chatFeature2Title: "شرح مفاهيم",
                chatFeature2Desc: "شرح مفصل لمفاهيم بايثون مع أمثلة عملية",
                chatFeature3Title: "مساعدة في حل المشكلات",
                chatFeature3Desc: "مساعدتك في حل المشكلات البرمجية التي تواجهك",
                chatExamplesTitle: "أمثلة على الأسئلة",
                chatExample1: "ما هي القوائم في بايثون؟",
                chatExample2: "كيف أتعامل مع الأخطاء في بايثون؟",
                chatExample3: "ما الفرق بين القوائم والمجموعات؟"
            },
            en: {
                appName: "Zaid.python",
                navHome: "Home",
                navAbout: "About",
                navLevels: "Levels",
                navChat: "AI Assistant",
                homeTitle: "Master Python with Zaid",
                homeSubtitle: "Master Python from basics to advanced concepts with interactive tutorials and quizzes",
                homeButtonStart: "Start Now →",
                homeButtonIntro: "Watch Intro",
                whyTitle: "Why Choose Zaid.python?",
                whyCard1Title: "Interactive Learning",
                whyCard1Text: "Learn Python through practical examples and interactive exercises designed for beginners.",
                whyCard2Title: "Structured Curriculum",
                whyCard2Text: "Progress through 10 carefully designed levels, from basic data types to advanced OOP concepts.",
                whyCard3Title: "Track Your Progress",
                whyCard3Text: "Complete quizzes and get personalized feedback as you master each programming concept.",
                ctaTitle: "Ready to start your Python journey?",
                ctaSubtitle: "Join thousands of learners who have mastered Python programming with our interactive platform.",
                aboutTitle: "About Me",
                aboutName: "Zaid Abu Al Shaar",
                aboutBio: `Zaid Abu Al Shaar: A passionate Computer Science student and a skilled AR/VR/AI developer (Top of my class with honors). Proficient in Python, C#, JavaScript, HTML, CSS, and PHP. Experienced in XR healthcare applications, AI projects (telecommunications), and web design/modeling. MD Membership Developer at the University of Petra IEEE Student Branch, where I contribute to supporting the branch's growth through events and member engagement. Founding member of the VR & Gaming Club at the University of Petra.`,
                aboutContact: "Contact Me",
                aboutCard1Title: "Programming",
                aboutCard1Text: "Python, C#, JavaScript, HTML, CSS, PHP",
                aboutCard2Title: "Recognition",
                aboutCard2Text: "Top of my class with honors",
                aboutCard3Title: "Leadership",
                aboutCard3Text: "MD Membership Developer, VR Club Founder",
                aboutCard4Title: "Innovation",
                aboutCard4Text: "AR/VR/AI Development, XR Healthcare",
                levelsTitle: "12 Levels to Learn Python",
                levelsSubtitle: "Choose your level and start your Python journey",
                level1: "Data Types & Input",
                level2: "Variables & Expressions",
                level3: "Operators",
                level4: "Control Flow",
                level5: "Loops",
                level6: "Lists & Tuples",
                level7: "Sets & Dictionaries",
                level8: "Functions & Exceptions",
                level9: "Files & OOP",
                level10: "Graphical User Interfaces (GUI)",
                level11: "Easy Quizzes",
                level12: "Hard Quizzes",
                level1Desc: "Learn basic types like numbers, strings, and booleans and how to get user input.",
                level2Desc: "Understand how to store data in variables and use expressions to perform calculations.",
                level3Desc: "Learn about arithmetic, logical, and comparison operators and their uses in Python.",
                level4Desc: "Learn how to make decisions in your code using if, elif, and else statements.",
                level5Desc: "Discover the power of For and While loops to repeat tasks efficiently.",
                level6Desc: "Dive into lists and tuples and how to use them to organize data.",
                level7Desc: "Explore sets and dictionaries to manage unique data and key-value pair data.",
                level8Desc: "Build organized code with functions and learn how to handle errors using exceptions.",
                level9Desc: "Learn how to interact with files and understand the basics of Object-Oriented Programming (OOP).",
                level10Desc: "Start building interactive desktop applications using the Tkinter library.",
                level11Desc: "Test your basic Python knowledge with easy quizzes",
                level12Desc: "Challenge yourself with advanced Python quizzes",
                levelDetailBack: "Back to Levels",
                levelDetailMore: "Level Explanation",
                levelDetailQuiz: "Quiz",
                levelDetailStart: "Let's Go →",
                levelDetailNext: "Next Level",
                introTitle: "Watch the Intro",
                introSubtitle: "Start your Python learning journey",
                footerText: "&copy; 2025 Zaid Abu Al Shaar. All Rights Reserved.",
                quizCorrect: "Zaid tips his hat to you, well done!",
                quizIncorrect: "Oops, please try again.",
                quizSubmit: "Check Answer",
                quizQuestion: "Level Question",
                level1DetailedText: `In this level, you will learn the fundamentals of handling data in Python. We'll cover the main types like integers (\`int\`), floating-point numbers (\`float\`), strings (\`str\`), and boolean values (\`bool\`). Most importantly, you will learn how to make your program interactive by receiving input from the user using the \`input()\` function.`,
                level2DetailedText: `Variables are names we give to memory locations to store data. Think of them as boxes you can put anything inside. Expressions, on the other hand, are a combination of variables, values, and operators that are evaluated to produce a single value. Understanding variables is your first step towards building dynamic programs.`,
                level3DetailedText: `Operators are special symbols in Python that are used to perform operations on variables and values. There are different types of operators like arithmetic (\`+\`, \`-\`, \`*\`, \`/\`), comparison (\`==\`, \`!=\`, \`>\`, \`<\`), and logical (\`and\`, \`or\`, \`not\`) operators.`,
                level4DetailedText: `Control flow allows you to make decisions and execute code based on certain conditions. This is done using statements like \`if\`, \`elif\`, and \`else\`. This gives your programs the ability to behave intelligently based on different inputs or states.`,
                level5DetailedText: `Loops allow you to execute a block of code repeatedly. The two main types of loops are \`For\` و \`While\`. A \`For\` loop is used to iterate over a sequence (like a list or a string), while a \`While\` loop continues to repeat as long as a condition is true.`,
                level6DetailedText: `Lists and tuples are two of the most important data structures in Python. Lists are ordered and changeable collections, which means you can add, remove, or modify items. Tuples are also ordered but are unchangeable.`,
                level7DetailedText: `Sets and dictionaries offer other ways to organize data. Sets are unordered collections with no duplicate members. Dictionaries are collections of key-value pairs and provide an efficient way to look up data.`,
                level8DetailedText: `Functions are reusable blocks of code. Defining a function allows you to execute the same code multiple times without having to write it again. Exceptions are errors that occur during the execution of a program, and you will learn how to handle them using \`try\` and \`except\`.`,
                level9DetailedText: `File handling allows you to read from and write to files on the disk. Object-Oriented Programming (OOP) is a programming paradigm based on the concept of objects and classes to organize code and make it more manageable.`,
                level10DetailedText: `Graphical User Interfaces (GUI) allow you to create interactive desktop applications with elements like buttons, text fields, and windows. One of the most popular Python libraries for creating GUIs is \`Tkinter\`.`,
                level11DetailedText: `Test your basic Python knowledge with a set of easy quizzes designed for beginners. These questions will help you solidify fundamental concepts and measure your progress in learning Python.`,
                level12DetailedText: `Challenge yourself with a set of advanced Python quizzes. These questions are designed to test your deep understanding of programming concepts and your ability to solve complex problems.`,
                resourcesTitle: "Additional Resources",
                resourceDesc: "Explore these resources to deepen your understanding:",
                resourceLink: "Visit Website",
                quizStart: "Start Quiz",
                quizNext: "Next Question",
                quizFinish: "Finish Quiz",
                quizResultTitle: "Quiz Result",
                quizScore: "Your Score",
                quizCorrectAnswers: "Correct Answers",
                quizRestart: "Try Again",
                quizBackToLevels: "Back to Levels",
                exampleTitle: "Example",
                exampleExplanation: "Explanation",
                featuresTitle: "Platform Features",
                feature1Title: "Interactive Learning",
                feature1Desc: "Interactive lessons with practical examples and live coding",
                feature2Title: "Tests & Evaluation",
                feature2Desc: "Quizzes after each level to measure your progress",
                feature3Title: "Smart Assistant",
                feature3Desc: "AI assistant available 24/7 to answer your programming questions",
                aiAssistantTitle: "Python AI Assistant",
                aiAssistantDesc: "Smart assistant available around the clock to answer your programming questions and help solve problems you encounter while learning Python",
                chatPageTitle: "Python AI Assistant",
                chatPageDesc: "Smart assistant available 24/7 to answer your programming questions and help solve problems",
                chatFeature1Title: "Instant Answers",
                chatFeature1Desc: "Get immediate answers to your programming questions anytime",
                chatFeature2Title: "Concept Explanations",
                chatFeature2Desc: "Detailed explanations of Python concepts with practical examples",
                chatFeature3Title: "Problem Solving Help",
                chatFeature3Desc: "Assistance in solving programming problems you encounter",
                chatExamplesTitle: "Example Questions",
                chatExample1: "What are lists in Python?",
                chatExample2: "How do I handle errors in Python?",
                chatExample3: "What is the difference between lists and tuples?"
            }
        };

        // State
        let currentPage = 'home';
        let currentPageData = null;
        let currentLang = 'ar';
        let selectedOption = null;
        let quizState = {
            currentQuestion: 0,
            score: 0,
            userAnswers: [],
            currentLevel: null
        };
        
        const correctAnswers = {
            1: 'input()',
            2: 'my_name = "Zaid"',
            3: '==',
            4: 'if',
            5: 'for',
            6: 'my_list.append("orange")',
            7: 'my_dict["brand"]',
            8: 'def',
            9: 'class MyClass:',
            10: 'tkinter'
        };
        
        // Quiz questions for levels 11 and 12
        const quizQuestions = {
            11: [
                {
                    question: "ما هي الدالة المستخدمة لطباعة النصوص في بايثون؟",
                    options: ['print()', 'output()', 'console.log()', 'echo()'],
                    answer: 'print()'
                },
                {
                    question: "كيف تحول النص إلى عدد صحيح في بايثون؟",
                    options: ['str()', 'int()', 'float()', 'number()'],
                    answer: 'int()'
                },
                {
                    question: "ما نوع البيانات المستخدم لتخزين الأعداد العشرية؟",
                    options: ['int', 'float', 'str', 'bool'],
                    answer: 'float'
                },
                {
                    question: "كيف تحصل على طول قائمة في بايثون؟",
                    options: ['len()', 'count()', 'length()', 'size()'],
                    answer: 'len()'
                },
                {
                    question: "ما هي الكلمة المفتاحية لبدء حلقة for في بايثون؟",
                    options: ['loop', 'for', 'each', 'while'],
                    answer: 'for'
                }
            ],
            12: [
                {
                    question: "ما هي الدالة المستخدمة للحصول على طول القائمة في بايثون؟",
                    options: ['len()', 'length()', 'size()', 'count()'],
                    answer: 'len()'
                },
                {
                    question: "ما هي الطريقة الصحيحة لمعالجة الاستثناءات في بايثون؟",
                    options: ['try/except', 'try/catch', 'error/handle', 'exception/handle'],
                    answer: 'try/except'
                },
                {
                    question: "كيف تحصل على قائمة بجميع المفاتيح في قاموس؟",
                    options: ['dict.keys()', 'dict.getKeys()', 'dict.allKeys()', 'dict.keysList()'],
                    answer: 'dict.keys()'
                },
                {
                    question: "ما هي المكتبة المستخدمة للتعامل مع التواريخ في بايثون؟",
                    options: ['time', 'date', 'datetime', 'calendar'],
                    answer: 'datetime'
                },
                {
                    question: "كيف تستورد دالة محددة من وحدة في بايثون؟",
                    options: ['import function from module', 'from module import function', 'import module.function', 'require module:function'],
                    answer: 'from module import function'
                }
            ]
        };

        // AI Chat Functions
        let chatOpen = false;
        const aiResponses = {
        ar: {
            "hello": "مرحباً! أنا مساعدك الذكي لتعلم لغة بايثون. كيف يمكنني مساعدتك اليوم؟",
            "help": "يمكنني مساعدتك في شرح مفاهيم البايثون، حل المشكلات، تقديم أمثلة، والإجابة على أسئلتك البرمجية. فقط اطرح سؤالك!",
            "data types": "في بايثون، الأنواع الأساسية للبيانات تشمل:\n\n1. الأعداد الصحيحة (int): مثل 5, 10, -3\n2. الأعداد العشرية (float): مثل 3.14, 2.5, -0.5\n3. السلاسل النصية (str): مثل \"مرحباً\", \"بايثون\"\n4. القيم المنطقية (bool): True أو False\n5. القوائم (list): [1, 2, 3]\n6. المجموعات (tuple): (1, 2, 3)\n7. القواميس (dict): {'name': 'زيد', 'age': 25}\n8. المجموعات (set): {1, 2, 3}",
            "variables": "المتغيرات في بايثون هي أماكن تخزين للبيانات. يمكنك إنشاء متغير باستخدام علامة المساواة:\n\n```python\nname = \"زيد\"\nage = 25\nis_student = True\n```\n\nالقواعد:\n- يمكن أن تحتوي على حروف، أرقام، وشرطة سفلية\n- لا يمكن أن تبدأ برقم\n- حساسة لحالة الأحرف (Name ≠ name)",
            "functions": "الدوال في بايثون تسمح لك بتنظيم الكود وإعادة استخدامه:\n\n```python\ndef greet(name):\n    \"\"\"هذه الدالة ترحب بالمستخدم\"\"\"\n    print(f\"مرحباً، {name}!\")\n\n# استدعاء الدالة\ngreet(\"أحمد\")\n```\n\nالمكونات:\n- `def`: كلمة مفتاحية لتعريف الدالة\n- `greet`: اسم الدالة\n- `(name)`: معاملات الدالة\n- `print(...)`: جسم الدالة",
            "loops": "الحلقات في بايثون تستخدم لتكرار تنفيذ كتلة من الكود:\n\n1. حلقة `for`:\n```python\nfruits = [\"تفاح\", \"موز\", \"كرز\"]\nfor fruit in fruits:\n    print(f\"أحب {fruit}\")```\n\n2. حلقة `while`:\n```python\ncount = 0\nwhile count < 5:\n    print(f\"العدد: {count}\")\n    count += 1  # زيادة العدد بمقدار 1 في كل تكرار```",
            "oop": "البرمجة الشيئية (OOP) في بايثون:\n\n```python\nclass Person:\n    def __init__(self, name, age):\n        self.name = name\n        self.age = age\n    \n    def greet(self):\n        print(f\"مرحباً، اسمي {self.name} وعمري {self.age}\")\n\n# إنشاء كائن\nperson1 = Person(\"زيد\", 25)\nperson1.greet()\n```\n\nالمفاهيم الأساسية:\n- الفئات (Classes): قوالب لإنشاء الكائنات\n- الكائنات (Objects): نماذج من الفئات\n- السمات (Attributes): متغيرات الكائن\n- الدوال (Methods): دوال الكائن",
            "error": "عذراً، لم أفهم سؤالك. يمكنك صياغته بطريقة أخرى؟\n\nإليك بعض المواضيع التي يمكنني مساعدتك بها:\n- أنواع البيانات\n- المتغيرات\n- الدوال\n- الحلقات\n- البرمجة الشيئية",
            "default": "أنا مساعدك الذكي لتعلم بايثون. يمكنني:\n- شرح مفاهيم البرمجة\n- تقديم أمثلة عملية\n- الإجابة على أسئلتك البرمجية\n- مساعدتك في حل الأخطاء\n\nما الذي تريد أن تتعلمه اليوم؟"
        },
        en: {
            "hello": "Hello! I'm your AI Python learning assistant. How can I help you today?",
            "help": "I can help you explain Python concepts, solve problems, provide examples, and answer your coding questions. Just ask!",
            "data types": "In Python, the basic data types include:\n\n1. Integers (int): e.g., 5, 10, -3\n2. Floating-point numbers (float): e.g., 3.14, 2.5, -0.5\n3. Strings (str): e.g., \"Hello\", 'Python'\n4. Booleans (bool): True or False\n5. Lists (list): [1, 2, 3]\n6. Tuples (tuple): (1, 2, 3)\n7. Dictionaries (dict): {'name': 'Zaid', 'age': 25}\n8. Sets (set): {1, 2, 3}",
            "variables": "Variables in Python are storage locations for data. You can create a variable using the equals sign:\n\n```python\nname = \"Zaid\"\nage = 25\nis_student = True\n```\n\nRules:\n- Can contain letters, numbers, and underscores\n- Cannot start with a number\n- Case-sensitive (Name ≠ name)",
            "functions": "Functions in Python allow you to organize and reuse code:\n\n```python\ndef greet(name):\n    \"\"\"This function greets the user\"\"\"\n    print(f\"Hello, {name}!\")\n\n# Calling the function\ngreet(\"Ahmed\")\n```\n\nComponents:\n- `def`: Keyword to define a function\n- `greet`: Function name\n- `(name)`: Parameters\n- `print(...)`: Function body",
            "loops": "Loops in Python are used to repeatedly execute a block of code:\n\n1. `for` loop:\n```python\nfruits = [\"apple\", \"banana\", \"cherry\"]\nfor fruit in fruits:\n    print(fruit)\n```\n\n2. `while` loop:\n```python\ncount = 0\nwhile count < 5:\n    print(count)\n    count += 1\n```",
            "oop": "Object-Oriented Programming (OOP) in Python:\n\n```python\nclass Person:\n    def __init__(self, name, age):\n        self.name = name\n        self.age = age\n    \n    def greet(self):\n        print(f\"Hello, my name is {self.name} and I'm {self.age}\")\n\n# Creating an object\nperson1 = Person(\"Zaid\", 25)\nperson1.greet()\n```\n\nKey concepts:\n- Classes: Templates for creating objects\n- Objects: Instances of classes\n- Attributes: Object variables\n- Methods: Object functions",
            "error": "Sorry, I didn't understand your question. Can you rephrase it?\n\nHere are some topics I can help with:\n- Data types\n- Variables\n- Functions\n- Loops\n- Object-oriented programming",
            "default": "I'm your AI Python learning assistant. I can:\n- Explain programming concepts\n- Provide practical examples\n- Answer your coding questions\n- Help you debug errors\n\nWhat would you like to learn today?"
        }
        };

        function openChat() {
            const chatContainer = document.getElementById('ai-chat-container');
            chatContainer.classList.add('open');
            chatOpen = true;
            document.getElementById('chat-title').textContent = currentLang === 'ar' ? 'مساعد بايثون الذكي' : 'Python AI Assistant';
        }

        function closeChat() {
            const chatContainer = document.getElementById('ai-chat-container');
            chatContainer.classList.remove('open');
            chatOpen = false;
        }
        
        function scrollToBottom() {
            const messagesContainer = document.getElementById('chat-messages');
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function sendMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            
            if (!message) return;
            
            // Add user message
            addMessage(message, 'user');
            input.value = '';
            
            // Simulate AI thinking
            showTypingIndicator();
            
            // Get AI response after a short delay
            setTimeout(() => {
                hideTypingIndicator();
                const aiResponse = getAIResponse(message);
                addMessage(aiResponse, 'ai');
                scrollToBottom();
            }, 1500);
        }

        function addMessage(text, sender) {
            const messagesContainer = document.getElementById('chat-messages');
            const messageElement = document.createElement('div');
            messageElement.classList.add('message');
            messageElement.classList.add(sender === 'user' ? 'user-message' : 'ai-message');
            
            // Format code snippets
            const formattedText = text.replace(/```python([\s\S]*?)```/g, '<code>$1</code>');
            messageElement.innerHTML = formattedText;
            
            messagesContainer.appendChild(messageElement);
            scrollToBottom();
        }

        function showTypingIndicator() {
            const messagesContainer = document.getElementById('chat-messages');
            const typingIndicator = document.createElement('div');
            typingIndicator.classList.add('chat-typing-indicator');
            typingIndicator.id = 'typing-indicator';
            typingIndicator.innerHTML = `
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <span>${currentLang === 'ar' ? 'يكتب...' : 'Typing...'}</span>
            `;
            messagesContainer.appendChild(typingIndicator);
            scrollToBottom();
        }

        function hideTypingIndicator() {
            const typingIndicator = document.getElementById('typing-indicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        function getAIResponse(message) {
            const langKey = currentLang;
            const lowerMessage = message.toLowerCase();
            
            // Check for common keywords
            if (lowerMessage.includes('مرحبا') || lowerMessage.includes('hello') || 
                lowerMessage.includes('اهلا') || lowerMessage.includes('hi')) {
                return aiResponses[langKey]['hello'];
            }
            if (lowerMessage.includes('مساعدة') || lowerMessage.includes('help') || 
                lowerMessage.includes('ساعدني') || lowerMessage.includes('مساعده')) {
                return aiResponses[langKey]['help'];
            }
            if (lowerMessage.includes('أنواع البيانات') || lowerMessage.includes('data types') || 
                lowerMessage.includes('نوع البيانات') || lowerMessage.includes('data type')) {
                return aiResponses[langKey]['data types'];
            }
            if (lowerMessage.includes('متغيرات') || lowerMessage.includes('variables') || 
                lowerMessage.includes('متغير')) {
                return aiResponses[langKey]['variables'];
            }
            if (lowerMessage.includes('دوال') || lowerMessage.includes('functions') || 
                lowerMessage.includes('دالة')) {
                return aiResponses[langKey]['functions'];
            }
            if (lowerMessage.includes('حلقات') || lowerMessage.includes('loops') || 
                lowerMessage.includes('حلقة') || lowerMessage.includes('loop')) {
                return aiResponses[langKey]['loops'];
            }
            if (lowerMessage.includes('برمجة شيئية') || lowerMessage.includes('oop') || 
                lowerMessage.includes('object oriented') || lowerMessage.includes('class') || 
                lowerMessage.includes('فئة') || lowerMessage.includes('كائن')) {
                return aiResponses[langKey]['oop'];
            }
            
            // If no match, provide a default response
            return aiResponses[langKey]['default'];
        }

        // Toggle chat when button is clicked
        document.getElementById('ai-chat-button').addEventListener('click', () => {
            if (chatOpen) {
                closeChat();
            } else {
                openChat();
                scrollToBottom();
            }
        });

        // Send message when Enter is pressed
        document.getElementById('chat-input').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // Update direction and font based on language
        function updateDirection() {
            const htmlTag = document.documentElement;
            if (currentLang === 'ar') {
                htmlTag.setAttribute('dir', 'rtl');
                htmlTag.setAttribute('lang', 'ar');
            } else {
                htmlTag.setAttribute('dir', 'ltr');
                htmlTag.setAttribute('lang', 'en');
            }
        }

        // Toggle language
        function toggleLanguage() {
            currentLang = currentLang === 'ar' ? 'en' : 'ar';
            updateDirection();
            renderPage();
            
            // Update chat title
            if (chatOpen) {
                document.getElementById('chat-title').textContent = currentLang === 'ar' ? 'مساعد بايثون الذكي' : 'Python AI Assistant';
                
                // Clear chat and show new welcome message
                document.getElementById('chat-messages').innerHTML = `
                    <div class="message ai-message">
                        ${currentLang === 'ar' ? 
                            'أنا مساعدك الذكي بعد تعليمات زيد أبو الشعر. أنتظر أسئلتك عن لغة بايثون!' : 
                            'Hello! I\'m your AI Python learning assistant. How can I help you today?'}
                    </div>
                `;
                scrollToBottom();
            }
        }

        // Render functions now use translations
        function homePage() {
            const t = translations[currentLang];
            return `
                <div class="relative min-h-screen flex flex-col items-center justify-center p-4 overflow-hidden">
                    <!-- Background Blobs -->
                    <div class="absolute top-[10%] left-[10%] w-64 h-64 bg-purple-500 rounded-full animate-blob mix-blend-screen opacity-20"></div>
                    <div class="absolute top-[50%] right-[10%] w-72 h-72 bg-blue-500 rounded-full animate-blob animation-delay-2000 mix-blend-screen opacity-20"></div>
                    <div class="absolute bottom-[20%] left-[20%] w-56 h-56 bg-indigo-500 rounded-full animate-blob animation-delay-4000 mix-blend-screen opacity-20"></div>
                    <div class="absolute top-[20%] right-[25%] w-80 h-80 bg-teal-500 rounded-full animate-blob animation-delay-6000 mix-blend-screen opacity-20"></div>
                    <div class="absolute bottom-[30%] right-[40%] w-64 h-64 bg-purple-400 rounded-full animate-blob animation-delay-8000 mix-blend-screen opacity-20"></div>

                    <div class="text-center z-10 p-4">
                        <h1 class="text-4xl md:text-6xl font-bold text-white mb-4 floating-element">${t.homeTitle}</h1>
                        <p class="text-lg md:text-xl text-gray-200 mb-8 max-w-2xl mx-auto">${t.homeSubtitle}</p>
                        <div class="flex flex-col md:flex-row justify-center gap-4">
                            <button onclick="changePage('levels')" class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-bold py-3 px-8 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 hover-grow">
                                ${t.homeButtonStart}
                            </button>
                            <button onclick="changePage('intro')" class="bg-transparent border-2 border-white text-white font-bold py-3 px-8 rounded-full shadow-lg hover:bg-white hover:text-blue-900 transition-all duration-300 transform hover:scale-105 hover-grow">
                                <i class="fas fa-play ${currentLang === 'ar' ? 'ml-2' : 'mr-2'}"></i> ${t.homeButtonIntro}
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Why Choose Section -->
                <section class="py-20 text-center">
                    <div class="container mx-auto px-4">
                        <h2 class="text-3xl md:text-4xl font-bold text-white mb-12 floating-element">${t.whyTitle}</h2>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                            <!-- Card 1: Interactive Learning -->
                            <div class="p-8 rounded-2xl shadow-xl border border-gray-700 soft-purple transition-all duration-300 hover:scale-105">
                                <div class="text-4xl text-purple-400 mb-4">
                                    <i class="fas fa-code"></i>
                                </div>
                                <h3 class="text-xl font-bold text-white mb-2">${t.whyCard1Title}</h3>
                                <p class="text-gray-300">${t.whyCard1Text}</p>
                            </div>
                            <!-- Card 2: Structured Curriculum -->
                            <div class="p-8 rounded-2xl shadow-xl border border-gray-700 soft-blue transition-all duration-300 hover:scale-105">
                                <div class="text-4xl text-blue-400 mb-4">
                                    <i class="fas fa-book-open"></i>
                                </div>
                                <h3 class="text-xl font-bold text-white mb-2">${t.whyCard2Title}</h3>
                                <p class="text-gray-300">${t.whyCard2Text}</p>
                            </div>
                            <!-- Card 3: Track Progress -->
                            <div class="p-8 rounded-2xl shadow-xl border border-gray-700 soft-green transition-all duration-300 hover:scale-105">
                                <div class="text-4xl text-green-400 mb-4">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <h3 class="text-xl font-bold text-white mb-2">${t.whyCard3Title}</h3>
                                <p class="text-gray-300">${t.whyCard3Text}</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Features Section -->
                <section class="py-20 text-center">
                    <div class="container mx-auto px-4">
                        <h2 class="text-3xl md:text-4xl font-bold text-white mb-12 floating-element">${t.featuresTitle}</h2>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto">
                            <div class="feature-card soft-purple">
                                <div class="feature-icon">
                                    <i class="fas fa-laptop-code"></i>
                                </div>
                                <h3 class="text-xl font-bold text-white mb-2">${t.feature1Title}</h3>
                                <p class="text-gray-300">${t.feature1Desc}</p>
                            </div>
                            <div class="feature-card soft-blue">
                                <div class="feature-icon">
                                    <i class="fas fa-check-circle"></i>
                                </div>
                                <h3 class="text-xl font-bold text-white mb-2">${t.feature2Title}</h3>
                                <p class="text-gray-300">${t.feature2Desc}</p>
                            </div>
                            <div class="feature-card soft-orange">
                                <div class="feature-icon">
                                    <i class="fas fa-robot"></i>
                                </div>
                                <h3 class="text-xl font-bold text-white mb-2">${t.feature3Title}</h3>
                                <p class="text-gray-300">${t.feature3Desc}</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- AI Assistant Description -->
                <section class="py-12">
                    <div class="container mx-auto px-4 max-w-5xl">
                        <div class="ai-assistant-desc">
                            <div class="flex items-center mb-4">
                                <div class="bg-blue-500 p-3 rounded-full mr-4">
                                    <i class="fas fa-robot text-white text-xl"></i>
                                </div>
                                <h3 class="text-2xl font-bold text-white">${t.aiAssistantTitle}</h3>
                            </div>
                            <p class="text-gray-300 mb-4">${t.aiAssistantDesc}</p>
                            <div class="flex flex-col sm:flex-row items-center justify-between gap-4 mt-6">
                                <div class="flex items-center">
                                    <div class="bg-blue-500 w-8 h-8 rounded-full flex items-center justify-center mr-2">
                                        <i class="fas fa-check text-white text-xs"></i>
                                    </div>
                                    <span class="text-gray-300">إجابات فورية على الأسئلة البرمجية</span>
                                </div>
                                <div class="flex items-center">
                                    <div class="bg-blue-500 w-8 h-8 rounded-full flex items-center justify-center mr-2">
                                        <i class="fas fa-check text-white text-xs"></i>
                                    </div>
                                    <span class="text-gray-300">شرح مفاهيم بايثون بطريقة مبسطة</span>
                                </div>
                                <div class="flex items-center">
                                    <div class="bg-blue-500 w-8 h-8 rounded-full flex items-center justify-center mr-2">
                                        <i class="fas fa-check text-white text-xs"></i>
                                    </div>
                                    <span class="text-gray-300">مساعدة في حل المشكلات البرمجية</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Call to Action Section -->
                <section class="py-20 text-center bg-gradient-to-r from-blue-700 to-indigo-800">
                    <div class="container mx-auto px-4">
                        <h2 class="text-3xl md:text-4xl font-bold text-white mb-4 floating-element">${t.ctaTitle}</h2>
                        <p class="text-lg text-gray-200 mb-8">${t.ctaSubtitle}</p>
                        <button onclick="changePage('levels')" class="bg-white text-blue-600 font-bold py-3 px-8 rounded-full shadow-lg hover:bg-gray-100 transition-all duration-300 transform hover:scale-105 hover-grow">
                            ${t.homeButtonStart}
                        </button>
                    </div>
                </section>
            `;
        }

        function aboutPage() {
            const t = translations[currentLang];
            return `
                <div class="min-h-screen flex items-center justify-center p-4">
                    <div class="container mx-auto text-center mt-20">
                        <h2 class="text-3xl md:text-4xl font-bold text-white mb-2 floating-element">${t.aboutTitle}</h2>
                        <div class="w-24 h-1 bg-blue-500 mx-auto mb-8"></div>
                        
                        <!-- Profile Image with the actual photo -->
                        <div class="profile-img-container">
                            <img src="https://via.placeholder.com/200" alt="Zaid Abu Al Shaar" class="profile-img">
                            <div class="profile-img-overlay">
                                <i class="fas fa-user-circle text-white text-4xl"></i>
                            </div>
                        </div>
                        
                        <h3 class="text-2xl font-bold text-white mb-6">${t.aboutName}</h3>

                        <div class="bg-[#1f2833] p-8 md:p-12 rounded-3xl shadow-xl mb-12">
                            <p class="text-lg text-gray-300 leading-relaxed mb-8">
                                ${t.aboutBio}
                            </p>
                            <h3 class="text-2xl font-bold text-white mb-6">${t.aboutContact}</h3>
                            <div class="flex flex-col md:flex-row justify-center gap-4">
                                <a href="https://www.instagram.com/Zaid_10_7" target="_blank" class="bg-gradient-instagram text-white font-bold py-3 px-8 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 social-button">
                                    <i class="fab fa-instagram social-icon"></i> Instagram
                                </a>
                                <a href="https://wa.me/962799569573?text=زيد%20بتقدر%20تساعدني%20بالبايثون" target="_blank" class="bg-whatsapp text-white font-bold py-3 px-8 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 social-button">
                                    <i class="fab fa-whatsapp social-icon"></i> WhatsApp
                                </a>
                            </div>
                        </div>

                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 max-w-6xl mx-auto">
                            <!-- Card 1: Programming -->
                            <div class="p-6 rounded-2xl shadow-xl border border-gray-700 bg-gradient-dark-blue hover-grow">
                                <div class="text-4xl text-white mb-4"><i class="fas fa-code"></i></div>
                                <h3 class="text-xl font-bold text-white mb-2">${t.aboutCard1Title}</h3>
                                <p class="text-gray-300">${t.aboutCard1Text}</p>
                            </div>
                            <!-- Card 2: Recognition -->
                            <div class="p-6 rounded-2xl shadow-xl border border-gray-700 bg-blue-500 hover-grow">
                                <div class="text-4xl text-white mb-4"><i class="fas fa-award"></i></div>
                                <h3 class="text-xl font-bold text-white mb-2">${t.aboutCard2Title}</h3>
                                <p class="text-gray-300">${t.aboutCard2Text}</p>
                            </div>
                            <!-- Card 3: Leadership -->
                            <div class="p-6 rounded-2xl shadow-xl border border-gray-700 bg-green-500 hover-grow">
                                <div class="text-4xl text-white mb-4"><i class="fas fa-users"></i></div>
                                <h3 class="text-xl font-bold text-white mb-2">${t.aboutCard3Title}</h3>
                                <p class="text-gray-300">${t.aboutCard3Text}</p>
                            </div>
                            <!-- Card 4: Innovation -->
                            <div class="p-6 rounded-2xl shadow-xl border border-gray-700 bg-purple-500 hover-grow">
                                <div class="text-4xl text-white mb-4"><i class="fas fa-lightbulb"></i></div>
                                <h3 class="text-xl font-bold text-white mb-2">${t.aboutCard4Title}</h3>
                                <p class="text-gray-300">${t.aboutCard4Text}</p>
                            </div>
                        </div>

                    </div>
                </div>
            `;
        }

        function levelsPage() {
            const t = translations[currentLang];
            const levels = [
                { id: 1, title: t.level1, icon: 'fas fa-database', bg: 'bg-gradient-blue', desc: t.level1Desc },
                { id: 2, title: t.level2, icon: 'fas fa-code', bg: 'bg-gradient-indigo', desc: t.level2Desc },
                { id: 3, title: t.level3, icon: 'fas fa-calculator', bg: 'bg-gradient-purple', desc: t.level3Desc },
                { id: 4, title: t.level4, icon: 'fas fa-hand-holding-box', bg: 'bg-gradient-blue', desc: t.level4Desc },
                { id: 5, title: t.level5, icon: 'fas fa-redo-alt', bg: 'bg-gradient-indigo', desc: t.level5Desc },
                { id: 6, title: t.level6, icon: 'fas fa-list', bg: 'bg-gradient-purple', desc: t.level6Desc },
                { id: 7, title: t.level7, icon: 'fas fa-hashtag', bg: 'bg-gradient-blue', desc: t.level7Desc },
                { id: 8, title: t.level8, icon: 'fas fa-cogs', bg: 'bg-gradient-indigo', desc: t.level8Desc },
                { id: 9, title: t.level9, icon: 'fas fa-file-code', bg: 'bg-gradient-purple', desc: t.level9Desc },
                { id: 10, title: t.level10, icon: 'fas fa-laptop-code', bg: 'bg-gradient-blue', desc: t.level10Desc },
                { id: 11, title: t.level11, icon: 'fas fa-star', bg: 'bg-gradient-indigo', desc: t.level11Desc },
                { id: 12, title: t.level12, icon: 'fas fa-trophy', bg: 'bg-gradient-purple', desc: t.level12Desc }
            ];

            const levelCards = levels.map(level => `
                <div class="card-container">
                    <div class="card-inner">
                        <!-- Front of the card -->
                        <div class="card-face card-front ${level.bg}">
                            <div class="text-4xl text-white mb-4">
                                <i class="${level.icon}"></i>
                            </div>
                            <h3 class="text-2xl font-bold text-white mb-2">Level ${level.id}</h3>
                            <p class="text-gray-200">${level.title}</p>
                        </div>
                        <!-- Back of the card -->
                        <div class="card-face card-back">
                            <h4 class="text-xl font-bold text-white mb-4">Level ${level.id}</h4>
                            <p class="text-gray-400 mb-6">${level.desc}</p>
                            <button onclick="changePage('levelDetail', ${level.id})" class="bg-blue-500 text-white font-bold py-2 px-6 rounded-full shadow-lg hover:bg-blue-600 transition-all duration-300 transform hover:scale-105">
                                ${t.levelDetailStart}
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');

            return `
                <div class="min-h-screen p-4">
                    <div class="container mx-auto text-center mt-20">
                        <h2 class="text-3xl md:text-4xl font-bold text-white mb-2 floating-element">${t.levelsTitle}</h2>
                        <p class="text-lg text-gray-300 mb-12">${t.levelsSubtitle}</p>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 max-w-5xl mx-auto">
                            ${levelCards}
                        </div>
                    </div>
                </div>
            `;
        }

        function levelDetailPage(level) {
            // Handle quiz levels separately
            if (level === 11 || level === 12) {
                return quizLevelPage(level);
            }
            
            const t = translations[currentLang];
            const levels = {
                1: {
                    title: t.level1, 
                    text: t.level1DetailedText,
                    examples: [
                        {
                            title: t.exampleTitle + " 1",
                            description: t.exampleExplanation + ": أنواع البيانات الأساسية",
                            code: `# أنواع البيانات الأساسية في بايثون
# الأعداد الصحيحة (int)
age = 25
print(f"العمر: {age}, النوع: {type(age)}")

# الأعداد العشرية (float)
height = 1.75
print(f"الطول: {height}, النوع: {type(height)}")

# السلاسل النصية(الكلمات) (str)
name = "زيد"
print(f"الاسم: {name}, النوع: {type(name)}")

# القيم المنطقية (bool)
is_student = True
print(f"هل هو طالب: {is_student}, النوع: {type(is_student)}")`
                        },
                        {
                            title: t.exampleTitle + " 2",
                            description: t.exampleExplanation + ": استقبال مدخلات من المستخدم",
                            code: `# استقبال مدخلات من المستخدم
user_name = input("أدخل اسمك: ")
user_age = int(input("أدخل عمرك: "))  # تحويل النص إلى عدد صحيح

print(f"مرحباً، {user_name}! عمرك {user_age} سنة.")`
                        },
                        {
                            title: t.exampleTitle + " 3",
                            description: t.exampleExplanation + ": التحويل بين أنواع البيانات",
                            code: `# التحويل بين أنواع البيانات
number_str = "123"
number_int = int(number_str)  # تحويل النص إلى عدد صحيح

float_str = "3.14"
float_val = float(float_str)  # تحويل النص إلى عدد عشري

int_to_str = str(42)  # تحويل العدد إلى نص

print(f"الرقم كنص: {number_str}, كنوع صحيح: {number_int}")
print(f"الرقم كنص: {float_str}, كنوع عشري: {float_val}")
print(f"الرقم كعدد: 42, كنص: {int_to_str}")`
                        }
                    ],
                    quiz: {
                        question: t.quizQuestion + ": " + (currentLang === 'ar' ? `ما هي الدالة المستخدمة لأخذ مدخلات من المستخدم في بايثون؟` : `Which function is used to take user input in Python?`),
                        options: ['print()', 'input()', 'get()', 'read()'],
                        answer: 'input()'
                    }
                },
                2: {
                    title: t.level2,
                    text: t.level2DetailedText,
                    examples: [
                        {
                            title: t.exampleTitle + " 1",
                            description: t.exampleExplanation + ": تعريف المتغيرات",
                            code: `# تعريف المتغيرات
x = 10
greeting = "مرحباً، بايثون!"
my_variable = "هذا متغير."

print(x)
print(greeting)
print(my_variable)`
                        },
                        {
                            title: t.exampleTitle + " 2",
                            description: t.exampleExplanation + ": التعبيرات الرياضية",
                            code: `# التعبيرات الرياضية
a = 15
b = 4
sum_result = a + b
diff_result = a - b
mult_result = a * b
div_result = a / b

print(f"النتيجة: {sum_result}")  # 19
print(f"النتيجة: {diff_result}") # 11
print(f"النتيجة: {mult_result}") # 60
print(f"النتيجة: {div_result}")  # 3.75`
                        },
                        {
                            title: t.exampleTitle + " 3",
                            description: t.exampleExplanation + ": دمج السلاسل النصية",
                            code: `# دمج السلاسل النصية
first_name = "زيد"
last_name = "أبو الشعر"
full_name = first_name + " " + last_name

print(full_name)  # زيد أبو الشعر`
                        }
                    ],
                    quiz: {
                        question: t.quizQuestion + ": " + (currentLang === 'ar' ? `أي من التالي يمثل طريقة صحيحة لتعريف متغير في بايثون؟` : `Which of the following is a correct way to define a variable in Python?`),
                        options: ['var my_name = "Zaid"', 'my_name = "Zaid"', '"Zaid" = my_name', 'int my_name = "Zaid"'],
                        answer: 'my_name = "Zaid"'
                    }
                },
                3: {
                    title: t.level3,
                    text: t.level3DetailedText,
                    examples: [
                        {
                            title: t.exampleTitle + " 1",
                            description: t.exampleExplanation + ": المعاملات الحسابية",
                            code: `# المعاملات الحسابية
a = 15
b = 4
print(f"a + b = {a + b}")   # 19
print(f"a - b = {a - b}")   # 11
print(f"a * b = {a * b}")   # 60
print(f"a / b = {a / b}")   # 3.75
print(f"a % b = {a % b}")   # 3 (باقي القسمة)
print(f"a // b = {a // b}") # 3 (قسمة صحيحة)`
                        },
                        {
                            title: t.exampleTitle + " 2",
                            description: t.exampleExplanation + ": معاملات المقارنة",
                            code: `# معاملات المقارنة
x = 10
y = 12
print(f"x == y: {x == y}") # False
print(f"x != y: {x != y}") # True
print(f"x < y: {x < y}")   # True
print(f"x > y: {x > y}")   # False
print(f"x <= y: {x <= y}") # True
print(f"x >= y: {x >= y}") # False`
                        },
                        {
                            title: t.exampleTitle + " 3",
                            description: t.exampleExplanation + ": المعاملات المنطقية",
                            code: `# المعاملات المنطقية
is_logged_in = True
has_permission = False

print(f"Is logged in AND has permission? {is_logged_in and has_permission}") # False
print(f"Is logged in OR has permission? {is_logged_in or has_permission}")   # True
print(f"NOT is_logged_in: {not is_logged_in}") # False`
                        }
                    ],
                    quiz: {
                        question: t.quizQuestion + ": " + (currentLang === 'ar' ? `أي من المعاملات التالية يستخدم للمقارنة بين قيمتين من حيث التساوي؟` : `Which of the following operators is used to compare two values for equality?`),
                        options: ['=', '!=', '==', '>'],
                        answer: '=='
                    }
                },
                4: {
                    title: t.level4,
                    text: t.level4DetailedText,
                    examples: [
                        {
                            title: t.exampleTitle + " 1",
                            description: t.exampleExplanation + ": عبارة if بسيطة",
                            code: `# عبارة if بسيطة
age = 20
if age >= 18:
    print("أنت بالغ.")`
                        },
                        {
                            title: t.exampleTitle + " 2",
                            description: t.exampleExplanation + ": عبارة if-else",
                            code: `# عبارة if-else
temperature = 25
if temperature > 30:
    print("يوم حار!")
else:
    print("يوم معتدل!")`
                        },
                        {
                            title: t.exampleTitle + " 3",
                            description: t.exampleExplanation + ": سلسلة if-elif-else",
                            code: `# سلسلة if-elif-else
score = 85
if score >= 90:
    print("التقدير: ممتاز")
elif score >= 80:
    print("التقدير: جيد جداً")
elif score >= 70:
    print("التقدير: جيد")
else:
    print("التقدير: مقبول")`
                        }
                    ],
                    quiz: {
                        question: t.quizQuestion + ": " + (currentLang === 'ar' ? `ما هي الكلمة المفتاحية التي تستخدم لبدء عبارة شرطية في بايثون؟` : `Which keyword is used to start a conditional statement in Python?`),
                        options: ['when', 'if', 'case', 'condition'],
                        answer: 'if'
                    }
                },
                5: {
                    title: t.level5,
                    text: t.level5DetailedText,
                    examples: [
                        {
                            title: t.exampleTitle + " 1",
                            description: t.exampleExplanation + ": حلقة for",
                            code: `# حلقة for
fruits = ["تفاح", "موز", "كرز"]
for fruit in fruits:
    print(f"أحب {fruit}")`
                        },
                        {
                            title: t.exampleTitle + " 2",
                            description: t.exampleExplanation + ": حلقة for مع range",
                            code: `# حلقة for مع range
for number in range(5): 
    print(f"الرقم: {number}")`
                        },
                        {
                            title: t.exampleTitle + " 3",
                            description: t.exampleExplanation + ": حلقة while",
                            code: `# حلقة while
count = 0
while count < 5:
    print(f"العدد: {count}")
    count += 1  # زيادة العدد بمقدار 1 في كل تكرار`
                        }
                    ],
                    quiz: {
                        question: t.quizQuestion + ": " + (currentLang === 'ar' ? `أي نوع من الحلقات يستخدم للتكرار على عناصر قائمة؟` : `Which type of loop is used to iterate over a list's elements?`),
                        options: ['for', 'while', 'do-while', 'loop-over'],
                        answer: 'for'
                    }
                },
                6: {
                    title: t.level6,
                    text: t.level6DetailedText,
                    examples: [
                        {
                            title: t.exampleTitle + " 1",
                            description: t.exampleExplanation + ": القوائم (Lists)",
                            code: `# القوائم (Lists)
my_list = ["تفاح", "موز", "كرز"]
my_list[1] = "توت"     # تعديل عنصر
my_list.append("برتقال")  # إضافة عنصر
print(my_list) # ['تفاح', 'توت', 'كرز', 'برتقال']`
                        },
                        {
                            title: t.exampleTitle + " 2",
                            description: t.exampleExplanation + ": المجموعات (Tuples)",
                            code: `# المجموعات (Tuples)
my_tuple = ("تفاح", "موز", "كرز")
# my_tuple[1] = "توت" # سيؤدي هذا إلى خطأ
print(my_tuple)`
                        },
                        {
                            title: t.exampleTitle + " 3",
                            description: t.exampleExplanation + ": الوصول إلى العناصر",
                            code: `# الوصول إلى العناصر
fruits = ["تفاح", "موز", "كرز"]
print(fruits[0])  # تفاح
print(fruits[-1]) # كرز (آخر عنصر)`
                        }
                    ],
                    quiz: {
                        question: t.quizQuestion + ": " + (currentLang === 'ar' ? `ما هي العملية التي يمكن إجراؤها على القائمة (List) ولكن لا يمكن إجراؤها على المجموعة (Tuple)؟` : `What operation can be performed on a List but not on a Tuple?`),
                        options: ['my_list.append("orange")', 'print(my_list[0])', 'len(my_list)', 'my_tuple = ("a", "b")'],
                        answer: 'my_list.append("orange")'
                    }
                },
                7: {
                    title: t.level7,
                    text: t.level7DetailedText,
                    examples: [
                        {
                            title: t.exampleTitle + " 1",
                            description: t.exampleExplanation + ": المجموعات (Sets)",
                            code: `# المجموعات (Sets)
my_set = {"تفاح", "موز", "كرز", "تفاح"} # العناصر المكررة ستُزال
print(my_set) # {'تفاح', 'موز', 'كرز'}
my_set.add("برتقال")
print(my_set)`
                        },
                        {
                            title: t.exampleTitle + " 2",
                            description: t.exampleExplanation + ": القواميس (Dictionaries)",
                            code: `# القواميس (Dictionaries)
user_profile = {
    "username": "zaid",
    "email": "zaid@example.com",
    "age": 25
}
print(user_profile["username"]) # الوصول إلى قيمة المفتاح
user_profile["age"] = 26        # تعديل قيمة
user_profile["location"] = "عمان" # إضافة زوج مفتاح-قيمة جديد
print(user_profile)`
                        },
                        {
                            title: t.exampleTitle + " 3",
                            description: t.exampleExplanation + ": العمليات على القواميس",
                            code: `# العمليات على القواميس
car = {
    "brand": "Ford",
    "model": "Mustang",
    "year": 1964
}

# الحصول على جميع المفاتيح
keys = car.keys()
print(keys) # dict_keys(['brand', 'model', 'year'])

# الحصول على جميع القيم
values = car.values()
print(values) # dict_values(['Ford', 'Mustang', 1964])`
                        }
                    ],
                    quiz: {
                        question: t.quizQuestion + ": " + (currentLang === 'ar' ? `كيف يمكنك الوصول إلى قيمة 'Ford' في القاموس التالي؟` : `How can you access the value 'Ford' in the following dictionary?`),
                        options: ['my_dict["brand"]', 'my_dict[0]', 'my_dict.get("Ford")', 'my_dict.brand'],
                        answer: 'my_dict["brand"]'
                    }
                },
                8: {
                    title: t.level8,
                    text: t.level8DetailedText,
                    examples: [
                        {
                            title: t.exampleTitle + " 1",
                            description: t.exampleExplanation + ": تعريف واستدعاء دالة",
                            code: `# تعريف واستدعاء دالة
def greet(name):
    """هذه الدالة ترحب بالشخص الممرر كمعامل"""
    print(f"مرحباً، {name}!")

greet("زيد")`
                        },
                        {
                            title: t.exampleTitle + " 2",
                            description: t.exampleExplanation + ": معالجة الاستثناءات",
                            code: `# معالجة الاستثناءات
try:
    # هذه السطر ستسبب خطأ إذا لم يكن 'num' رقماً
    num = int("مرحباً")
except ValueError:
    print("عفواً! هذا ليس رقماً صالحاً.")
except Exception as e:
    print(f"حدث خطأ: {e}")

print("يستمر البرنامج بعد معالجة الخطأ.")`
                        },
                        {
                            title: t.exampleTitle + " 3",
                            description: t.exampleExplanation + ": الدوال مع القيم المرجعة",
                            code: `# الدوال مع القيم المرجعة
def add_numbers(a, b):
    """تجمع رقمين وتعيد النتيجة"""
    return a + b

result = add_numbers(5, 7)
print(f"النتيجة: {result}") # 12`
                        }
                    ],
                    quiz: {
                        question: t.quizQuestion + ": " + (currentLang === 'ar' ? `ما هي الكلمة المفتاحية المستخدمة لتعريف دالة في بايثون؟` : `Which keyword is used to define a function in Python?`),
                        options: ['func', 'define', 'function', 'def'],
                        answer: 'def'
                    }
                },
                9: {
                    title: t.level9,
                    text: t.level9DetailedText,
                    examples: [
                        {
                            title: t.exampleTitle + " 1",
                            description: t.exampleExplanation + ": الكتابة إلى ملف",
                            code: `# الكتابة إلى ملف
with open("testfile.txt", "w") as file:
    file.write("مرحباً، هذا ملف تجريبي.\\n")
    file.write("هذا هو السطر الثاني.")`
                        },
                        {
                            title: t.exampleTitle + " 2",
                            description: t.exampleExplanation + ": القراءة من ملف",
                            code: `# القراءة من ملف
with open("testfile.txt", "r") as file:
    content = file.read()
    print(f"محتوى الملف:\\n{content}")`
                        },
                        {
                            title: t.exampleTitle + " 3",
                            description: t.exampleExplanation + ": فئة بسيطة (OOP)",
                            code: `# فئة بسيطة (OOP)
class Car:
    # دالة __init__ يتم استدعاؤها عند إنشاء كائن جديد
    def __init__(self, brand, year):
        self.brand = brand
        self.year = year

    def display(self):
        print(f"العلامة: {self.brand}, السنة: {self.year}")

my_car = Car("Ford", 2022) # إنشاء كائن
my_car.display() # استدعاء دالة على الكائن`
                        }
                    ],
                    quiz: {
                        question: t.quizQuestion + ": " + (currentLang === 'ar' ? `ما هي الكلمة المفتاحية المستخدمة لتعريف فئة (class) في بايثون؟` : `Which keyword is used to define a class in Python?`),
                        options: ['def', 'class MyClass:', 'object', 'new'],
                        answer: 'class MyClass:'
                    }
                },
                10: {
                    title: t.level10,
                    text: t.level10DetailedText,
                    examples: [
                        {
                            title: t.exampleTitle + " 1",
                            description: t.exampleExplanation + ": نافذة بسيطة باستخدام Tkinter",
                            code: `# نافذة بسيطة باستخدام Tkinter
import tkinter as tk
from tkinter import messagebox

def on_button_click():
    messagebox.showinfo("رسالة", "تم النقر على الزر!")

# إنشاء النافذة الرئيسية
root = tk.Tk()
root.title("تطبيق واجهة المستخدم")
root.geometry("300x200")

# إنشاء تسمية
label = tk.Label(root, text="مرحباً بك في تطبيق الواجهة!", font=("Arial", 14))
label.pack(pady=20)

# إنشاء زر
button = tk.Button(root, text="انقر هنا", command=on_button_click)
button.pack()

# بدء حلقة الأحداث الرئيسية
root.mainloop()`
                        },
                        {
                            title: t.exampleTitle + " 2",
                            description: t.exampleExplanation + ": إضافة عناصر واجهة متعددة",
                            code: `# إضافة عناصر واجهة متعددة
import tkinter as tk

def calculate():
    try:
        num1 = float(entry1.get())
        num2 = float(entry2.get())
        result = num1 + num2
        result_label.config(text=f"النتيجة: {result}")
    except ValueError:
        result_label.config(text="أدخل أرقاماً صالحة!")

root = tk.Tk()
root.title("آلة حاسبة بسيطة")

# حقول الإدخال
entry1 = tk.Entry(root)
entry1.pack(pady=5)

entry2 = tk.Entry(root)
entry2.pack(pady=5)

# زر الحساب
calc_button = tk.Button(root, text="احسب", command=calculate)
calc_button.pack(pady=10)

# تسمية النتيجة
result_label = tk.Label(root, text="")
result_label.pack()

root.mainloop()`
                        }
                    ],
                    quiz: {
                        question: t.quizQuestion + ": " + (currentLang === 'ar' ? `ما هي المكتبة الأكثر شيوعاً في بايثون لإنشاء واجهات المستخدم الرسومية (GUI) المدمجة؟` : `What is the most common built-in Python library for creating GUIs?`),
                        options: ['PyQt', 'pygame', 'tkinter', 'wxPython'],
                        answer: 'tkinter'
                    }
                }
            };

            const levelData = levels[level] || { title: "Level Not Found", text: "", code: "", quiz: {question: "", options: [], answer: ""}};
            const langClass = currentLang === 'ar' ? 'text-right' : 'text-left';
            const resources = [];
            
            return `
                <div class="min-h-screen p-4">
                    <div class="container mx-auto mt-20 max-w-4xl">
                        <a href="#" onclick="changePage('levels')" class="flex items-center text-gray-400 hover:text-white transition-colors mb-8">
                            <i class="fas fa-arrow-right ${currentLang === 'ar' ? 'ml-2' : 'mr-2'}"></i>
                            ${t.levelDetailBack}
                        </a>
                        <h2 class="text-3xl md:text-5xl font-bold text-white mb-12 ${langClass} floating-element">المستوى ${level}: ${levelData.title}</h2>
                        
                        <!-- Section: Level Explanation -->
                        <div class="bg-[#1f2833] p-8 md:p-12 rounded-3xl shadow-xl mb-12 ${langClass}">
                            <h3 class="text-2xl font-bold text-blue-400 mb-4">${t.levelDetailMore}</h3>
                            <p class="text-lg text-gray-300 leading-relaxed mb-6">${levelData.text}</p>
                            
                            <!-- Examples Section -->
                            <h4 class="text-xl font-bold text-white mb-4">${t.exampleTitle}:</h4>
                            ${levelData.examples.map(example => `
                                <div class="example-container">
                                    <div class="example-title">
                                        <i class="fas fa-code"></i> ${example.title}
                                    </div>
                                    <p class="example-description">${example.description}</p>
                                    <div class="example-code">
                                        <pre>${example.code}</pre>
                                    </div>
                                </div>
                            `).join('')}
                        </div>

                        <!-- Section: Quiz -->
                        <div class="bg-[#1f2833] p-8 md:p-12 rounded-3xl shadow-xl ${langClass}">
                            <h3 class="text-2xl font-bold text-green-400 mb-6">${t.levelDetailQuiz}</h3>
                            <div class="flex flex-col items-center">
                                <p id="quiz-question" class="text-xl text-white mb-8 font-bold">${levelData.quiz.question}</p>
                                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 w-full">
                                    ${levelData.quiz.options.map((option, index) => `
                                        <div class="quiz-option" onclick="selectOption(this, '${option}')">
                                            <div class="flex items-center justify-center w-full">
                                                <span class="mr-2 font-bold">${String.fromCharCode(65 + index)}.</span>
                                                <code>${option}</code>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                                
                                <div class="mt-8 flex justify-center gap-4">
                                    <button onclick="checkQuizAnswer('${level}')" class="bg-blue-500 text-white font-bold py-3 px-8 rounded-full shadow-lg hover:bg-blue-600 transition-all duration-300 transform hover:scale-105">
                                        ${t.quizSubmit}
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Next Level Button -->
                        ${selectedOption ? `
                            <div class="mt-6 text-center">
                                <button onclick="changePage('levelDetail', ${level < 12 ? level + 1 : 1})" class="bg-green-500 text-white font-bold py-3 px-8 rounded-full shadow-lg hover:bg-green-600 transition-all duration-300 transform hover:scale-105">
                                    ${level < 12 ? t.levelDetailNext : t.levelDetailBack}
                                </button>
                            </div>
                        ` : ''}
                    </div>
                </div>
            `;
        }

        function quizLevelPage(level) {
            const t = translations[currentLang];
            const questions = quizQuestions[level];
            const isQuizStarted = quizState.currentQuestion > 0;
            const isQuizFinished = quizState.currentQuestion >= questions.length;
            
            // Reset quiz state if it's a new quiz
            if (!isQuizStarted && !isQuizFinished) {
                quizState = {
                    currentQuestion: 1,
                    score: 0,
                    userAnswers: [],
                    currentLevel: level
                };
            }
            
            // Quiz intro page
            if (!isQuizStarted) {
                return `
                    <div class="min-h-screen p-4">
                        <div class="container mx-auto mt-20 max-w-4xl">
                            <a href="#" onclick="changePage('levels')" class="flex items-center text-gray-400 hover:text-white transition-colors mb-8">
                                <i class="fas fa-arrow-right ${currentLang === 'ar' ? 'ml-2' : 'mr-2'}"></i>
                                ${t.levelDetailBack}
                            </a>
                            <h2 class="text-3xl md:text-5xl font-bold text-white mb-12 text-center floating-element">
                                ${level === 11 ? t.level11 : t.level12}
                            </h2>
                            
                            <div class="bg-[#1f2833] p-8 md:p-12 rounded-3xl shadow-xl text-center">
                                <h3 class="text-2xl font-bold text-purple-400 mb-4">${level === 11 ? t.level11 : t.level12}</h3>
                                <p class="text-lg text-gray-300 leading-relaxed mb-8">
                                    ${level === 11 ? t.level11DetailedText : t.level12DetailedText}
                                </p>
                                
                                <div class="flex justify-center">
                                    <button onclick="startQuiz(${level})" class="bg-blue-500 text-white font-bold py-3 px-8 rounded-full shadow-lg hover:bg-blue-600 transition-all duration-300 transform hover:scale-105">
                                        <i class="fas fa-play ${currentLang === 'ar' ? 'ml-2' : 'mr-2'}"></i> ${t.quizStart}
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }
            
            // Quiz result page
            if (isQuizFinished) {
                const percentage = Math.round((quizState.score / questions.length) * 100);
                let stars = '';
                
                if (percentage >= 80) stars = '★★★★★';
                else if (percentage >= 60) stars = '★★★★☆';
                else if (percentage >= 40) stars = '★★★☆☆';
                else if (percentage >= 20) stars = '★★☆☆☆';
                else stars = '★☆☆☆☆';
                
                return `
                    <div class="min-h-screen p-4">
                        <div class="container mx-auto mt-20 max-w-4xl">
                            <h2 class="text-3xl md:text-5xl font-bold text-white mb-12 text-center floating-element">
                                ${t.quizResultTitle}
                            </h2>
                            
                            <div class="quiz-result">
                                <div class="quiz-result-stars">${stars}</div>
                                <div class="quiz-result-score">${quizState.score}/${questions.length}</div>
                                <p class="quiz-result-message">
                                    ${t.quizCorrectAnswers}: ${quizState.score} ${t.quizScore}: ${percentage}%
                                </p>
                                
                                <div class="flex justify-center gap-4 mt-8">
                                    <button onclick="restartQuiz(${level})" class="bg-blue-500 text-white font-bold py-3 px-8 rounded-full shadow-lg hover:bg-blue-600 transition-all duration-300 transform hover:scale-105">
                                        ${t.quizRestart}
                                    </button>
                                    <button onclick="changePage('levels')" class="bg-gray-600 text-white font-bold py-3 px-8 rounded-full shadow-lg hover:bg-gray-700 transition-all duration-300 transform hover:scale-105">
                                        ${t.quizBackToLevels}
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }
            
            // Quiz question page
            const currentQIndex = quizState.currentQuestion - 1;
            const currentQ = questions[currentQIndex];
            const progress = ((quizState.currentQuestion) / questions.length) * 100;
            const userAnswer = quizState.userAnswers[currentQIndex];
            const isAnswered = userAnswer !== undefined;
            
            return `
                <div class="min-h-screen p-4">
                    <div class="container mx-auto mt-20 max-w-4xl">
                        <h2 class="text-3xl md:text-5xl font-bold text-white mb-8 text-center floating-element">
                            ${level === 11 ? t.level11 : t.level12}
                        </h2>
                        
                        <div class="quiz-progress">
                            <div class="quiz-progress-bar" style="width: ${progress}%"></div>
                        </div>
                        
                        <div class="bg-[#1f2833] p-8 md:p-12 rounded-3xl shadow-xl">
                            <h3 class="text-2xl font-bold text-purple-400 mb-6 text-center">
                                ${t.quizQuestion} ${quizState.currentQuestion}/${questions.length}
                            </h3>
                            <p class="text-xl text-white mb-8 text-center font-bold">${currentQ.question}</p>
                            
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 w-full">
                                ${currentQ.options.map((option, index) => {
                                    let optionClass = "quiz-option";
                                    if (isAnswered) {
                                        if (option === currentQ.answer) {
                                            optionClass += " correct";
                                        } else if (option === userAnswer) {
                                            optionClass += " incorrect";
                                        }
                                    }
                                    return `
                                        <div class="${optionClass}" onclick="selectQuizOption('${option}')">
                                            <div class="flex items-center justify-center w-full">
                                                <span class="mr-2 font-bold">${String.fromCharCode(65 + index)}.</span>
                                                <span>${option}</span>
                                            </div>
                                        </div>
                                    `;
                                }).join('')}
                            </div>
                            
                            ${isAnswered ? `
                                <div class="mt-6 text-center">
                                    ${userAnswer === currentQ.answer ? 
                                        `<p class="text-green-500 text-xl font-bold">${t.quizCorrect}</p>` : 
                                        `<p class="text-red-500 text-xl font-bold">${t.quizIncorrect}</p>`
                                    }
                                </div>
                            ` : ''}
                            
                            <div class="mt-8 flex justify-center gap-4">
                                <button onclick="nextQuizQuestion(${level})" class="bg-blue-500 text-white font-bold py-3 px-8 rounded-full shadow-lg hover:bg-blue-600 transition-all duration-300 transform hover:scale-105">
                                    ${quizState.currentQuestion === questions.length ? t.quizFinish : t.quizNext}
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function startQuiz(level) {
            quizState = {
                currentQuestion: 1,
                score: 0,
                userAnswers: [],
                currentLevel: level
            };
            renderPage();
        }

        function selectQuizOption(option) {
            const currentQIndex = quizState.currentQuestion - 1;
            
            // Only allow selection if not already answered
            if (quizState.userAnswers[currentQIndex] === undefined) {
                quizState.userAnswers[currentQIndex] = option;
                renderPage();
            }
        }

        function nextQuizQuestion(level) {
            const currentQIndex = quizState.currentQuestion - 1;
            const currentQ = quizQuestions[level][currentQIndex];
            
            // Check if answer is correct
            if (quizState.userAnswers[currentQIndex] === currentQ.answer) {
                quizState.score++;
            }
            
            // Move to next question or finish quiz
            if (quizState.currentQuestion < quizQuestions[level].length) {
                quizState.currentQuestion++;
            } else {
                quizState.currentQuestion = quizQuestions[level].length + 1; // Mark as finished
            }
            
            renderPage();
        }

        function restartQuiz(level) {
            quizState = {
                currentQuestion: 1,
                score: 0,
                userAnswers: [],
                currentLevel: level
            };
            renderPage();
        }

        function selectOption(element, option) {
            // Remove selected class from all options
            document.querySelectorAll('.quiz-option').forEach(el => {
                el.classList.remove('selected');
            });
            
            // Add selected class to clicked option
            element.classList.add('selected');
            
            // Store the selected option
            selectedOption = option;
        }

        function checkQuizAnswer(level) {
            if (!selectedOption) {
                alert(translations[currentLang].quizIncorrect);
                return;
            }
            
            const correctAnswer = correctAnswers[level];
            const modal = document.getElementById('quiz-feedback-modal');
            const feedbackText = document.getElementById('feedback-text');
            const feedbackIcon = document.getElementById('feedback-icon');

            if (selectedOption === correctAnswer) {
                feedbackText.innerHTML = translations[currentLang].quizCorrect;
                feedbackIcon.innerHTML = `<i class="fas fa-hat-cowboy text-green-500"></i>`;
                modal.classList.remove('hidden');
            } else {
                feedbackText.innerHTML = translations[currentLang].quizIncorrect;
                feedbackIcon.innerHTML = `<i class="fas fa-times-circle text-red-500"></i>`;
                modal.classList.remove('hidden');
            }

            modal.querySelector('div').classList.add('scale-100');
            modal.querySelector('div').classList.remove('scale-90');
            
            // Reset selection
            selectedOption = null;
        }

        function hideQuizFeedback() {
            const modal = document.getElementById('quiz-feedback-modal');
            modal.classList.add('hidden');
            modal.querySelector('div').classList.remove('scale-100');
            modal.querySelector('div').classList.add('scale-90');
        }

        function introPage() {
            const t = translations[currentLang];
            return `
                <div class="min-h-screen flex flex-col items-center justify-center p-4">
                    <div class="container mx-auto text-center mt-20">
                        <h2 class="text-3xl md:text-4xl font-bold text-white mb-2 floating-element">${t.introTitle}</h2>
                        <p class="text-lg text-gray-300 mb-12">${t.introSubtitle}</p>
                        <div class="bg-[#1f2833] p-4 rounded-3xl shadow-xl max-w-4xl mx-auto">
                            <!-- YouTube Video Embed -->
                            <div class="video-container">
                                <iframe 
                                    src="https://www.youtube.com/embed/ucg4QUss_-c" 
                                    frameborder="0" 
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                    allowfullscreen
                                ></iframe>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function chatPage() {
            const t = translations[currentLang];
            return `
                <div class="chat-page-container">
                    <h1 class="chat-page-title floating-element">${t.chatPageTitle}</h1>
                    <p class="chat-page-description">${t.chatPageDesc}</p>
                    
                    <div class="chat-page-features">
                        <div class="chat-feature-card soft-purple">
                            <div class="chat-feature-icon">
                                <i class="fas fa-bolt"></i>
                            </div>
                            <h3 class="chat-feature-title">${t.chatFeature1Title}</h3>
                            <p class="chat-feature-desc">${t.chatFeature1Desc}</p>
                        </div>
                        
                        <div class="chat-feature-card soft-blue">
                            <div class="chat-feature-icon">
                                <i class="fas fa-book-open"></i>
                            </div>
                            <h3 class="chat-feature-title">${t.chatFeature2Title}</h3>
                            <p class="chat-feature-desc">${t.chatFeature2Desc}</p>
                        </div>
                        
                        <div class="chat-feature-card soft-green">
                            <div class="chat-feature-icon">
                                <i class="fas fa-hands-helping"></i>
                            </div>
                            <h3 class="chat-feature-title">${t.chatFeature3Title}</h3>
                            <p class="chat-feature-desc">${t.chatFeature3Desc}</p>
                        </div>
                    </div>
                    
                    <div class="chat-examples">
                        <h2 class="chat-example-title">${t.chatExamplesTitle}</h2>
                        
                        <div class="chat-example">
                            <div class="chat-example-question">
                                <i class="fas fa-question-circle"></i>
                                ${t.chatExample1}
                            </div>
                            <div class="chat-example-answer">
                                ${aiResponses[currentLang]['data types']}
                            </div>
                        </div>
                        
                        <div class="chat-example">
                            <div class="chat-example-question">
                                <i class="fas fa-question-circle"></i>
                                ${t.chatExample2}
                            </div>
                            <div class="chat-example-answer">
                                ${aiResponses[currentLang]['functions']}
                            </div>
                        </div>
                        
                        <div class="chat-example">
                            <div class="chat-example-question">
                                <i class="fas fa-question-circle"></i>
                                ${t.chatExample3}
                            </div>
                            <div class="chat-example-answer">
                                ${aiResponses[currentLang]['loops']}
                            </div>
                        </div>
                    </div>
                    
                    <div class="text-center mt-12">
                        <button onclick="openChat()" class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-bold py-3 px-8 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 hover-grow">
                            <i class="fas fa-comments mr-2"></i> 
                            ${currentLang === 'ar' ? 'فتح المساعد الذكي' : 'Open AI Assistant'}
                        </button>
                    </div>
                </div>
            `;
        }

        // Handle routing and navigation
        function renderPage() {
            const appDiv = document.getElementById('app');
            let pageContent = '';
            
            // Set the correct font family class on the body
            document.body.className = `bg-[#0b0c10] ${currentLang === 'en' ? 'font-inter' : 'font-tajawal'}`;

            switch (currentPage) {
                case 'home':
                    pageContent = homePage();
                    break;
                case 'about':
                    pageContent = aboutPage();
                    break;
                case 'levels':
                    pageContent = levelsPage();
                    break;
                case 'levelDetail':
                    pageContent = levelDetailPage(currentPageData);
                    break;
                case 'intro':
                    pageContent = introPage();
                    break;
                case 'chat':
                    pageContent = chatPage();
                    break;
                default:
                    pageContent = homePage();
            }

            // Create and append the main layout with header and footer
            appDiv.innerHTML = `
                ${header()}
                <main class="min-h-screen">
                    ${pageContent}
                </main>
                ${footer()}
            `;
        }

        function changePage(page, data = null) {
            currentPage = page;
            currentPageData = data;
            selectedOption = null; // Reset selected option
            renderPage();
            window.scrollTo({ top: 0, behavior: 'smooth' }); // Scroll to the top with a smooth animation
        }

        function header() {
            const t = translations[currentLang];
            return `
                <header class="fixed top-0 left-0 w-full z-50 bg-[#0b0c10]/80 backdrop-blur-md shadow-md p-4">
                    <nav class="container mx-auto flex items-center justify-between">
                        <div class="flex items-center space-x-4">
                            <div class="text-2xl font-bold text-blue-500 logo-link" onclick="changePage('home')">
                                Zaid.<span class="text-white">python</span>
                            </div>
                        </div>
                        <div class="hidden md:flex flex-grow justify-center space-x-6 text-gray-300">
                            <a href="#" onclick="changePage('home')" class="hover:text-white transition-colors nav-link">${t.navHome}</a>
                            <a href="#" onclick="changePage('about')" class="hover:text-white transition-colors nav-link">${t.navAbout}</a>
                            <a href="#" onclick="changePage('levels')" class="hover:text-white transition-colors nav-link">${t.navLevels}</a>
                            <a href="#" onclick="changePage('chat')" class="hover:text-white transition-colors nav-link">${t.navChat}</a>
                        </div>
                        <div class="flex items-center space-x-4">
                            <button onclick="toggleLanguage()" class="bg-blue-500 text-white font-bold py-2 px-4 rounded-full hover:bg-blue-600 transition-colors hover-grow">
                                ${currentLang === 'ar' ? 'English' : 'العربية'}
                            </button>
                        </div>
                    </nav>
                </header>
            `;
        }

        function footer() {
            const t = translations[currentLang];
            return `
                <footer class="bg-[#0b0c10] p-8 text-center text-gray-500">
                    <p>${t.footerText}</p>
                </footer>
            `;
        }

        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function handleScroll() {
            const backToTopBtn = document.getElementById('back-to-top-btn');
            if (window.scrollY > 300) {
                backToTopBtn.classList.add('visible');
            } else {
                backToTopBtn.classList.remove('visible');
            }
        }

        // Initialize the app
        document.addEventListener('DOMContentLoaded', () => {
            updateDirection();
            renderPage();
            createParticles();
            createShapes();
            
            // Initialize chat button
            document.getElementById('ai-chat-button').addEventListener('click', () => {
                if (chatOpen) {
                    closeChat();
                } else {
                    openChat();
                    scrollToBottom();
                }
            });
            
            document.getElementById('chat-input').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
        });
        window.addEventListener('scroll', handleScroll);
    </script>

</body>
</html>